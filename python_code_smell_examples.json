{
  "Long Method": {
    "bad_example": "# BAD: Long method doing too much\ndef process_order(order_data):\n    # Validate order\n    if not order_data.get('customer_id'):\n        raise ValueError(\"Missing customer ID\")\n    if not order_data.get('items'):\n        raise ValueError(\"No items in order\")\n\n    # Calculate totals\n    subtotal = 0\n    for item in order_data['items']:\n        subtotal += item['price'] * item['quantity']\n\n    tax_rate = 0.08\n    tax = subtotal * tax_rate\n    shipping = 10.0 if subtotal < 50 else 0\n    total = subtotal + tax + shipping\n\n    # Apply discounts\n    if order_data.get('coupon_code'):\n        if order_data['coupon_code'] == 'SAVE10':\n            total *= 0.9\n        elif order_data['coupon_code'] == 'SAVE20':\n            total *= 0.8\n\n    # Save to database\n    db_connection = get_db_connection()\n    cursor = db_connection.cursor()\n    cursor.execute(\n        \"INSERT INTO orders (customer_id, total) VALUES (?, ?)\",\n        (order_data['customer_id'], total)\n    )\n    db_connection.commit()\n\n    # Send email\n    send_email(\n        to=order_data['customer_email'],\n        subject=\"Order Confirmation\",\n        body=f\"Your order total is ${total:.2f}\"\n    )\n\n    return total",
    "good_example": "# GOOD: Extracted into smaller, focused methods\ndef process_order(order_data):\n    validate_order(order_data)\n    total = calculate_total(order_data)\n    order_id = save_order(order_data, total)\n    send_confirmation_email(order_data, total)\n    return order_id\n\ndef validate_order(order_data):\n    if not order_data.get('customer_id'):\n        raise ValueError(\"Missing customer ID\")\n    if not order_data.get('items'):\n        raise ValueError(\"No items in order\")\n\ndef calculate_total(order_data):\n    subtotal = calculate_subtotal(order_data['items'])\n    tax = calculate_tax(subtotal)\n    shipping = calculate_shipping(subtotal)\n    total = subtotal + tax + shipping\n    return apply_discount(total, order_data.get('coupon_code'))\n\ndef calculate_subtotal(items):\n    return sum(item['price'] * item['quantity'] for item in items)\n\ndef calculate_tax(subtotal):\n    TAX_RATE = 0.08\n    return subtotal * TAX_RATE\n\ndef calculate_shipping(subtotal):\n    FREE_SHIPPING_THRESHOLD = 50.0\n    SHIPPING_COST = 10.0\n    return 0 if subtotal >= FREE_SHIPPING_THRESHOLD else SHIPPING_COST\n\ndef apply_discount(total, coupon_code):\n    DISCOUNTS = {'SAVE10': 0.1, 'SAVE20': 0.2}\n    discount = DISCOUNTS.get(coupon_code, 0)\n    return total * (1 - discount)\n\ndef save_order(order_data, total):\n    db_connection = get_db_connection()\n    cursor = db_connection.cursor()\n    cursor.execute(\n        \"INSERT INTO orders (customer_id, total) VALUES (?, ?)\",\n        (order_data['customer_id'], total)\n    )\n    db_connection.commit()\n    return cursor.lastrowid\n\ndef send_confirmation_email(order_data, total):\n    send_email(\n        to=order_data['customer_email'],\n        subject=\"Order Confirmation\",\n        body=f\"Your order total is ${total:.2f}\"\n    )"
  },
  "Large Class": {
    "bad_example": "# BAD: God class doing everything\nclass OrderManager:\n    def __init__(self):\n        self.orders = []\n        self.customers = []\n        self.products = []\n        self.inventory = {}\n\n    def add_customer(self, customer):\n        self.customers.append(customer)\n\n    def get_customer(self, customer_id):\n        return next((c for c in self.customers if c['id'] == customer_id), None)\n\n    def add_product(self, product):\n        self.products.append(product)\n\n    def get_product(self, product_id):\n        return next((p for p in self.products if p['id'] == product_id), None)\n\n    def update_inventory(self, product_id, quantity):\n        self.inventory[product_id] = quantity\n\n    def check_inventory(self, product_id):\n        return self.inventory.get(product_id, 0)\n\n    def create_order(self, customer_id, items):\n        # Order creation logic\n        pass\n\n    def cancel_order(self, order_id):\n        # Order cancellation logic\n        pass\n\n    def calculate_shipping(self, order):\n        # Shipping calculation\n        pass\n\n    def send_invoice(self, order_id):\n        # Invoice sending logic\n        pass",
    "good_example": "# GOOD: Separated into focused classes\nclass CustomerRepository:\n    def __init__(self):\n        self.customers = []\n\n    def add(self, customer):\n        self.customers.append(customer)\n\n    def get_by_id(self, customer_id):\n        return next((c for c in self.customers if c['id'] == customer_id), None)\n\nclass ProductRepository:\n    def __init__(self):\n        self.products = []\n\n    def add(self, product):\n        self.products.append(product)\n\n    def get_by_id(self, product_id):\n        return next((p for p in self.products if p['id'] == product_id), None)\n\nclass InventoryManager:\n    def __init__(self):\n        self.inventory = {}\n\n    def update(self, product_id, quantity):\n        self.inventory[product_id] = quantity\n\n    def check_availability(self, product_id):\n        return self.inventory.get(product_id, 0)\n\nclass OrderService:\n    def __init__(self, customer_repo, product_repo, inventory_mgr):\n        self.customer_repo = customer_repo\n        self.product_repo = product_repo\n        self.inventory_mgr = inventory_mgr\n        self.orders = []\n\n    def create_order(self, customer_id, items):\n        # Order creation logic\n        pass\n\n    def cancel_order(self, order_id):\n        # Order cancellation logic\n        pass\n\nclass ShippingCalculator:\n    def calculate(self, order):\n        # Shipping calculation logic\n        pass\n\nclass InvoiceService:\n    def send(self, order_id):\n        # Invoice sending logic\n        pass"
  },
  "Duplicate Code": {
    "bad_example": "# BAD: Duplicated validation logic\nclass UserRegistration:\n    def register_user(self, email, password):\n        # Email validation\n        if not email or '@' not in email:\n            raise ValueError(\"Invalid email\")\n        if len(password) < 8:\n            raise ValueError(\"Password too short\")\n\n        # Create user\n        user = {'email': email, 'password': hash_password(password)}\n        save_to_db(user)\n        return user\n\nclass PasswordReset:\n    def reset_password(self, email, new_password):\n        # Email validation (DUPLICATE!)\n        if not email or '@' not in email:\n            raise ValueError(\"Invalid email\")\n        if len(new_password) < 8:\n            raise ValueError(\"Password too short\")\n\n        # Update password\n        update_password(email, hash_password(new_password))",
    "good_example": "# GOOD: Extracted common validation\nclass Validator:\n    @staticmethod\n    def validate_email(email):\n        if not email or '@' not in email:\n            raise ValueError(\"Invalid email\")\n\n    @staticmethod\n    def validate_password(password):\n        if len(password) < 8:\n            raise ValueError(\"Password too short\")\n\nclass UserRegistration:\n    def __init__(self, validator):\n        self.validator = validator\n\n    def register_user(self, email, password):\n        self.validator.validate_email(email)\n        self.validator.validate_password(password)\n\n        user = {'email': email, 'password': hash_password(password)}\n        save_to_db(user)\n        return user\n\nclass PasswordReset:\n    def __init__(self, validator):\n        self.validator = validator\n\n    def reset_password(self, email, new_password):\n        self.validator.validate_email(email)\n        self.validator.validate_password(new_password)\n\n        update_password(email, hash_password(new_password))"
  }
}