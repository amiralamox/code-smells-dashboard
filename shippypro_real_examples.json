{
  "Long Method": [
    {
      "language": "PHP",
      "file": "services/order-service/app/Services/OrderService.php",
      "line": 89,
      "method": "mergeOrdersToShip()",
      "description": "Order merging method with 200+ lines handling validation, fetching, merging items, logging, and error handling",
      "metrics": { "lines": "200+", "complexity": "Very High" }
    },
    {
      "language": "TypeScript",
      "file": "features/order/hooks/useGetMenuConfig.tsx",
      "line": 126,
      "method": "useGetMenuConfig()",
      "description": "Menu configuration builder with 368 lines of deeply nested conditionals for different order states",
      "metrics": { "lines": 368, "complexity": "Very High" }
    }
  ],
  "Large Class": [
    {
      "language": "PHP",
      "file": "services/order-service/app/Services/OrderService.php",
      "line": 1,
      "method": "OrderService class",
      "description": "God class with 2,239 lines, 18 methods, and 16 repository dependencies handling orders, shipments, and legacy sync",
      "metrics": { "lines": 2239, "methods": 18, "dependencies": 16 }
    },
    {
      "language": "PHP",
      "file": "services/billing-engine/app/Services/TeamSystemService.php",
      "line": 1,
      "method": "TeamSystemService class",
      "description": "Service with 907 lines, 22 methods handling invoice creation, customer lookup, consumption billing, and PDF generation",
      "metrics": { "lines": 907, "methods": 22 }
    },
    {
      "language": "TypeScript",
      "file": "features/_global/hooks/useSideMenuLinks.tsx",
      "line": 1,
      "method": "useSideMenuLinks hook",
      "description": "Hook with 661 lines managing 70+ feature flags, 15+ API calls, multiple paywalls, and nested menu structures",
      "metrics": { "lines": 661, "featureFlags": "70+" }
    }
  ],
  "Primitive Obsession": [
    {
      "language": "TypeScript",
      "file": "features/order/hooks/useGetMenuConfig.tsx",
      "line": 66,
      "method": "useGetMenuConfig()",
      "description": "Order status checked with raw strings and magic numbers (\"2\", booleans) instead of typed OrderState object",
      "metrics": { "primitiveChecks": "Multiple", "impact": "Type safety issues" }
    }
  ],
  "Duplicate Code": [
    {
      "language": "PHP",
      "file": "services/usage-metering-engine/app/Http/Controllers/Api/V2/UsageController.php",
      "line": 109,
      "method": "getUserMetricUsage() and getUserCategoryUsage()",
      "description": "Nearly identical input validation logic (start_datetime, end_datetime, resolution) duplicated between getUserMetricUsage() (lines 109-125) and getUserCategoryUsage() (lines 484-500)",
      "metrics": { "duplication": "85%", "lines": "17 lines each" }
    },
    {
      "language": "TypeScript",
      "file": "features/order/hooks/api/useArchiveOrders.tsx",
      "line": 1,
      "method": "useArchiveOrders, useUnarchiveOrders, useDeleteOrders",
      "description": "Three nearly identical hooks with same structure, error handling, and context usage - only API endpoint differs",
      "metrics": { "duplication": "80%", "files": 3 }
    }
  ],
  "Dead Code": [
    {
      "language": "PHP",
      "file": "services/order-service/app/Services/OrderService.php",
      "line": 129,
      "method": "mergeOrdersToShip()",
      "description": "26 lines of commented-out code for \"new flow\" with FIXME note - disabled but not removed",
      "metrics": { "commentedLines": 26, "note": "FIXME: temporarily disabled" }
    }
  ],
  "Speculative Generality": [
    {
      "language": "PHP",
      "file": "services/billing-engine/app/Services/TeamSystemService.php",
      "line": 158,
      "method": "mapUsageToItemWH property",
      "description": "Array mapping with 3 entries marked \"FIXME: Not found on TeamSystem\" - speculative features that don't exist",
      "metrics": { "fixmeCount": 3, "unusableEntries": 3 }
    }
  ],
  "Feature Envy": [],
  "Message Chains": [
    {
      "language": "PHP",
      "file": "services/order-service/app/Services/OrderService.php",
      "line": 218,
      "method": "mergeOrdersToShip()",
      "description": "Chaining drupalRepository->findRecords()->collect()->keyBy()->md5() - violates Law of Demeter",
      "metrics": { "chainLength": "4+", "coupling": "High" }
    },
    {
      "language": "TypeScript",
      "file": "features/_global/hooks/useSideMenuLinks.tsx",
      "line": 153,
      "method": "Feature availability checks",
      "description": "Multiple uses of useCheckAvailableFeature().data?.is_feature_available - three-level property access",
      "metrics": { "chainLength": 3, "occurrences": "3+" }
    }
  ]
}
